<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Lucky web</title>

    <script src="/__/firebase/8.9.0/firebase-app.js"></script>
    <script src="/__/firebase/8.9.0/firebase-auth.js"></script>
    <script src="/__/firebase/init.js"></script>

    <script type="text/javascript">
        function signInWithEmailPassword(userName, pwd) {
            console.log("开始了1");
            var email = userName;
            var password = pwd;
            // [START auth_signin_password]
            firebase.auth().signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed in
                    var user = userCredential.user;
                    var path = localStorage.getItem("path")
                    console.log(path)
                    console.log("成功了1");
                    window.location.replace(path)
                    localStorage.setItem("islogin", "true")

                    // ...
                })
                .catch((error) => {
                    var errorCode = error.code;
                    var errorMessage = error.message;
                    console.log("失败了1");
                    alert("loginIn fail errorMessage:" + errorMessage);
                });
            // [END auth_signin_password]
        }

        function loginIn(id) {
            var userName = 'demo1@qq.com';
            var pwd = document.getElementById("pwd").value;
            console.log(userName + " " + pwd);
            signInWithEmailPassword(userName, pwd);
        }
    </script>

</head>

<body>

    <div style="width: 90%;height: 720px; background-color:white; align-content: center; margin: 20px auto">

        <div style="display: flex; justify-content: flex-start;">
            <p style="color:black ;font-size: 20pt;  background-color: white;">Lucky</p>
            <div style="flex: 1;"></div>
            <p style="color:black ;font-size: 20pt; background-color: white;">About</p>
            <p style="color:black ;font-size: 20pt; background-color: white; margin-left: 50px;">Featured Works
            </p>
        </div>
        <div style="margin-top: 100px;width: 100%;text-align: center;">
            <p style="width: auto; font-size: 50px;"> This content is protected.</p>
            <input type="password" style="width: 300px;height: auto;font-size: 30px;margin-top: 30px;" id="pwd" />
            <br />
            <button style="width: 300px; height: auto; font-size: 30px; margin-top: 30px;" type="button" id="login" onclick="loginIn(this)">click</button>
        </div>
    </div>







</body>

</html>